{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useRendererSelector = void 0;\n\nvar react_1 = require(\"react\");\n\nvar state_1 = require(\"../state\");\n/**\n * Custom Hook for loading the current document into context\n */\n\n\nexports.useRendererSelector = function () {\n  var _a = react_1.useContext(state_1.DocViewerContext).state,\n      currentDocument = _a.currentDocument,\n      pluginRenderers = _a.pluginRenderers;\n\n  var _b = react_1.useState(),\n      CurrentRenderer = _b[0],\n      setCurrentRenderer = _b[1];\n\n  react_1.useEffect(function () {\n    if (!currentDocument) return; // Do not advance if the document does not yet have a fileType\n    // This prevents prematurely showing 'no renderer' message\n\n    if (!currentDocument.fileType) {\n      setCurrentRenderer(undefined);\n      return;\n    }\n\n    var matchingRenderers = [];\n    pluginRenderers === null || pluginRenderers === void 0 ? void 0 : pluginRenderers.map(function (r) {\n      if (currentDocument.fileType === undefined) return;\n\n      if (r.fileTypes.indexOf(currentDocument.fileType) >= 0) {\n        matchingRenderers.push(r);\n      }\n    }); // Compute prefered Renderer based on weight\n\n    var SelectedRenderer = matchingRenderers.sort(function (a, b) {\n      return b.weight - a.weight;\n    })[0];\n\n    if (SelectedRenderer && SelectedRenderer !== undefined) {\n      setCurrentRenderer(function () {\n        return SelectedRenderer;\n      });\n    } else {\n      setCurrentRenderer(null);\n    }\n  }, [currentDocument]);\n  return {\n    CurrentRenderer: CurrentRenderer\n  };\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","useRendererSelector","react_1","require","state_1","_a","useContext","DocViewerContext","state","currentDocument","pluginRenderers","_b","useState","CurrentRenderer","setCurrentRenderer","useEffect","fileType","undefined","matchingRenderers","map","r","fileTypes","indexOf","push","SelectedRenderer","sort","a","b","weight"],"sources":["/home/bibhu/EDRdevelopment/DevBranch/ReactCodes/node_modules/react-doc-viewer/build/utils/useRendererSelector.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useRendererSelector = void 0;\nvar react_1 = require(\"react\");\nvar state_1 = require(\"../state\");\n/**\n * Custom Hook for loading the current document into context\n */\nexports.useRendererSelector = function () {\n    var _a = react_1.useContext(state_1.DocViewerContext).state, currentDocument = _a.currentDocument, pluginRenderers = _a.pluginRenderers;\n    var _b = react_1.useState(), CurrentRenderer = _b[0], setCurrentRenderer = _b[1];\n    react_1.useEffect(function () {\n        if (!currentDocument)\n            return;\n        // Do not advance if the document does not yet have a fileType\n        // This prevents prematurely showing 'no renderer' message\n        if (!currentDocument.fileType) {\n            setCurrentRenderer(undefined);\n            return;\n        }\n        var matchingRenderers = [];\n        pluginRenderers === null || pluginRenderers === void 0 ? void 0 : pluginRenderers.map(function (r) {\n            if (currentDocument.fileType === undefined)\n                return;\n            if (r.fileTypes.indexOf(currentDocument.fileType) >= 0) {\n                matchingRenderers.push(r);\n            }\n        });\n        // Compute prefered Renderer based on weight\n        var SelectedRenderer = matchingRenderers.sort(function (a, b) { return b.weight - a.weight; })[0];\n        if (SelectedRenderer && SelectedRenderer !== undefined) {\n            setCurrentRenderer(function () { return SelectedRenderer; });\n        }\n        else {\n            setCurrentRenderer(null);\n        }\n    }, [currentDocument]);\n    return { CurrentRenderer: CurrentRenderer };\n};\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,mBAAR,GAA8B,KAAK,CAAnC;;AACA,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,UAAD,CAArB;AACA;AACA;AACA;;;AACAJ,OAAO,CAACE,mBAAR,GAA8B,YAAY;EACtC,IAAII,EAAE,GAAGH,OAAO,CAACI,UAAR,CAAmBF,OAAO,CAACG,gBAA3B,EAA6CC,KAAtD;EAAA,IAA6DC,eAAe,GAAGJ,EAAE,CAACI,eAAlF;EAAA,IAAmGC,eAAe,GAAGL,EAAE,CAACK,eAAxH;;EACA,IAAIC,EAAE,GAAGT,OAAO,CAACU,QAAR,EAAT;EAAA,IAA6BC,eAAe,GAAGF,EAAE,CAAC,CAAD,CAAjD;EAAA,IAAsDG,kBAAkB,GAAGH,EAAE,CAAC,CAAD,CAA7E;;EACAT,OAAO,CAACa,SAAR,CAAkB,YAAY;IAC1B,IAAI,CAACN,eAAL,EACI,OAFsB,CAG1B;IACA;;IACA,IAAI,CAACA,eAAe,CAACO,QAArB,EAA+B;MAC3BF,kBAAkB,CAACG,SAAD,CAAlB;MACA;IACH;;IACD,IAAIC,iBAAiB,GAAG,EAAxB;IACAR,eAAe,KAAK,IAApB,IAA4BA,eAAe,KAAK,KAAK,CAArD,GAAyD,KAAK,CAA9D,GAAkEA,eAAe,CAACS,GAAhB,CAAoB,UAAUC,CAAV,EAAa;MAC/F,IAAIX,eAAe,CAACO,QAAhB,KAA6BC,SAAjC,EACI;;MACJ,IAAIG,CAAC,CAACC,SAAF,CAAYC,OAAZ,CAAoBb,eAAe,CAACO,QAApC,KAAiD,CAArD,EAAwD;QACpDE,iBAAiB,CAACK,IAAlB,CAAuBH,CAAvB;MACH;IACJ,CANiE,CAAlE,CAV0B,CAiB1B;;IACA,IAAII,gBAAgB,GAAGN,iBAAiB,CAACO,IAAlB,CAAuB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;MAAE,OAAOA,CAAC,CAACC,MAAF,GAAWF,CAAC,CAACE,MAApB;IAA6B,CAAtE,EAAwE,CAAxE,CAAvB;;IACA,IAAIJ,gBAAgB,IAAIA,gBAAgB,KAAKP,SAA7C,EAAwD;MACpDH,kBAAkB,CAAC,YAAY;QAAE,OAAOU,gBAAP;MAA0B,CAAzC,CAAlB;IACH,CAFD,MAGK;MACDV,kBAAkB,CAAC,IAAD,CAAlB;IACH;EACJ,CAzBD,EAyBG,CAACL,eAAD,CAzBH;EA0BA,OAAO;IAAEI,eAAe,EAAEA;EAAnB,CAAP;AACH,CA9BD"},"metadata":{},"sourceType":"script"}